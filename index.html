<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js – The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/page-objects.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section data-markdown>
          <script type="text/template">
# Page Objects

### Will make your life easier

<small>[Jerad Gallinger](http://jeradgallinger.ca) / [@jeradg](http://twitter.com/jeradg)</small>

<small>Full-Stack Developer, [RewardOps](http://rewardops.com)</small>
          </script>
				</section>

				<section data-markdown>
          <script type="text/template">
### Start with an example

- Some company's site
- Beeper company (Betty's Beepers) (beeper = PAGE OBJECT HAHAHA)
- (Example tests: they work, demonstrate a user flow, but are opaque as to meaning (not artificially so!), wet, and fragile.)
          </script>
				</section>

				<section data-markdown>
          <script type="text/template">
### Problem 1: Hard to read

- Most tests are hard to read.
- CAN YOU read them? Sure. But it requires some mental decoding.
- Even if you use something like BEM to keep class names clear... (`click('.beeper-list__beeper__tone-type')`)
- What does that mean? The form of tests obscures what we are really trying to test.
          </script>
				</section>

				<section data-markdown>
          <script type="text/template">
### Detour: Why do we write tests?

- What are we really trying to test?
- We're not really testing classes, IDs or HTML elements.
- (We're testing "business logic".)
- In TDD + Agile:
  - We're testing that a user story is reflected in reality.
  - If the story says "A user can visit a beeper detail page from the beeper list," we want to know that, YES, a user who visits the beeper list can view a particular beeper's details. 
- Business logic
  - How users use a page (/flow)
  - What the result of their page use should be
- But when we write a test that is against a particular selector, is it obvious/clear what user behavior/state/business logic we're testing?
          </script>
				</section>

				<section data-markdown>
          <script type="text/template">
### Problem 2: Hard to maintain

- Maintaining tests can be tedious.
- Selectors, URLs, and model names are likely to change over the life of a project.
- Yet they're often repeated throughout tests, making for a frequent game of find-and-replace.
          </script>
				</section>

				<section data-markdown>
          <script type="text/template">
### In Ember, we have another problem

- Inconsistent APIs between Acceptance tests and Integration tests
- (To be fixed in the medium-term with Grand Testing Unification, but for the forseeable future this is a real issue)
          </script>
				</section>

				<section data-markdown>
          <script type="text/template">
### Enter Page Objects

- UI tests: We're actually testing a user's interaction with a page (or set of pages) in our app.
- A Page Object gives us an API for tests based on what a user of an app can (see) and do.
- Encapsulates your test logic.
          </script>
				</section>

				<section data-markdown>
          <script type="text/template">
- From Selenium team: "The benefit is that if the UI changes for the page, the tests themselves don’t need to change, only the code within the page object needs to change. Subsequently all changes to support that new UI are located in one place."
          </script>
				</section>

				<section data-markdown>
          <script type="text/template">
- Martin Fowler: "When you write tests against a web page, you need to refer to elements within that web page in order to click links and determine what's displayed. However, if you write tests that manipulate the HTML elements directly your tests will be brittle to changes in the UI. A page object wraps an HTML page, or fragment, with an application-specific API, allowing you to manipulate page elements without digging around in the HTML."
          </script>
				</section>

				<section data-markdown>
          <script type="text/template">
### Solution 1: Easier to read and understand

- Makes the connection between test & user story/business logic clear.
- Someone new to the test (or app code) can easily scan the test and understand what behaviour is being tested.
          </script>
				</section>

				<section data-markdown>
          <script type="text/template">
### Solution 2: Easier to maintain

- Page Objects make tests DRYer and more maintainable by decoupling the content of tests from the implementation details of the app.
          </script>
				</section>

				<section data-markdown>
          <script type="text/template">
- [According to science](http://ieeexplore.ieee.org/xpl/login.jsp?tp=&arnumber=6571616&url=http%3A%2F%2Fieeexplore.ieee.org%2Fxpls%2Fabs_all.jsp%3Farnumber%3D6571616), page objects can make test updating 3x faster when changing UI code. (SCIENCE IS DUBIOUS! THIS IS HALF A JOKE!!!)

(Include fixed, post-page-object examples of tests. Wow! Easy!)
          </script>
				</section>

				<section data-markdown>
          <script type="text/template">
### Fin

[Ember CLI Page Object](http://ember-cli-page-object.js.org) <!-- .element: class="small" -->
          </script>
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
